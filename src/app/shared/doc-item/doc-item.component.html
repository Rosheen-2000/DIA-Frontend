<div class="docButton" (contextmenu)="createMenu($event, menu)">
  <button nz-button nzType="primary" (click)="navigate()">
    <i nz-icon nzType="file"></i>
    <p class="docName">{{fileName}}</p>
  </button>
</div>


<nz-dropdown-menu #menu="nzDropdownMenu">
  <ul nz-menu *ngIf="!isTrash">
    <li nz-menu-item *ngIf="!isFavored" (click)='favor()'>
      收藏
    </li>
    <li nz-menu-item *ngIf="isFavored" (click)='unFavor()'>
      取消收藏
    </li>
    <li nz-menu-item (click)="renameVisible=true">
      重命名
    </li>
    <li nz-menu-item style="color: red;" (click)="delete()">删除</li>
  </ul>

  <ul nz-menu *ngIf="isTrash">
    <li nz-menu-item (click)="recovery()">恢复</li>
    <li nz-menu-item style="color: red;" (click)="confirmDelete()">确认删除</li>
  </ul>
</nz-dropdown-menu>

<nz-modal
  [(nzVisible)]="renameVisible"
  nzTitle="重命名"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="rename()"
  [nzOkLoading]="isOkLoading"
>
  <input nz-input placeholder="请输入文档名" [(ngModel)]="newfilename" />
</nz-modal>
